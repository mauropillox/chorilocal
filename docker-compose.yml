version: "3.8"  # Version of docker-compose syntax

services:
  backend:
    build:
      context: ./backend  # Path to your backend folder (where Dockerfile is)
    ports:
      - "8000:8000"  # Expose FastAPI on port 8000
    environment:
      - DATABASE_URL=sqlite:///./test.db  # Example of environment variable for DB
    networks:
      - app_network  # Use a common network

  frontend:
    build:
      context: ./frontend  # Path to your frontend folder (where Dockerfile is)
    ports:
      - "3000:80"  # Expose React app on port 3000
    networks:
      - app_network  # Use the same network to communicate with backend

networks:
  app_network:
    driver: bridge  # Docker's default network driver
